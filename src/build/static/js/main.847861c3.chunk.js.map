{"version":3,"sources":["components/FilterName.js","components/Message.js","components/Person.js","components/People.js","components/AddPerson.js","services/Persons.js","App.js","index.js"],"names":["FilterName","_ref","elementName","setElementName","react_default","a","createElement","value","onChange","Message","viesti","type","className","Person","henkilö","poistaHenkilö","nimi","numero","onClick","People","henkilöt","map","components_Person","key","id","AddPerson","kysely","uusiNimi","asetaUusiNimi","uusiNumero","asetaUusiNumero","onSubmit","baseUrl","Persons","axios","get","then","response","data","post","put","concat","valittuHenkilö","delete","App","_useState","useState","_useState2","Object","slicedToArray","asetaHenkilöt","_useState3","_useState4","_useState5","_useState6","_useState7","viestiTyyppi","_useState8","_useState8$","asetaViesti","_useState9","_useState10","uusiEtsittävä","asetaEtsittävä","etsiHenkilöt","length","filter","toLowerCase","includes","useEffect","personsService","palautetutHenkilöt","timeMessage","setTimeout","päivitäHenkilö","päivitettäväHenkilö","objectSpread","temp","catch","error","luoHenkilö","components_FilterName","event","target","components_AddPerson","preventDefault","lenght","alert","find","window","confirm","components_People","poistoHenkilö","poistettava","components_Message","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.847861c3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst FilterName = ({elementName, setElementName}) =>(\r\n    <div>\r\n        Rajaa henkilöitä: <input value={elementName} onChange={setElementName} />\r\n    </div>\r\n)\r\n\r\nexport default FilterName","import React from 'react'\r\n\r\nconst Message = ({viesti, type}) =>{\r\n    if(!viesti===null){\r\n        return null\r\n    }\r\n    return(\r\n        <div className={type}>\r\n        {viesti}</div>\r\n    )\r\n}\r\nexport default Message","import React from 'react'\r\n\r\nconst Person=({ henkilö, poistaHenkilö})=>(\r\n        <tr>\r\n            <td>{henkilö.nimi}</td>\r\n            <td>{henkilö.numero}</td>\r\n            <td><button onClick={poistaHenkilö}>Poista</button> </td>\r\n        </tr>\r\n)\r\nexport default Person\r\n\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst People=({henkilöt, poistaHenkilö}) =>{\r\n    const listaHenkilöistä = () => henkilöt.map(henkilö => {\r\n        return(\r\n            <Person key={henkilö.id} henkilö={henkilö} poistaHenkilö={()=>poistaHenkilö(henkilö.id)}/>\r\n        )\r\n    })\r\n    return(\r\n        <div>\r\n            <h3>Numerot:</h3>\r\n            <table>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>Nimi</td>\r\n                        <td>Numero</td>\r\n                    </tr>\r\n                    {listaHenkilöistä()}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\nexport default People\r\n","import React from 'react'\r\n\r\nconst AddPerson = ({kysely, uusiNimi, asetaUusiNimi, uusiNumero, asetaUusiNumero}) =>\r\n(<div>\r\n    <h3>Lisää uusi henkilö:</h3>\r\n    <form onSubmit={kysely}>\r\n        <div>\r\n            Nimi: <input value={uusiNimi} onChange={asetaUusiNimi} />\r\n        </div>\r\n        <div>\r\n            Numero: <input value={uusiNumero} onChange={asetaUusiNumero} />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">Lisää</button>\r\n        </div>\r\n    </form>\r\n</div>\r\n)\r\n\r\nexport default AddPerson","import axios from 'axios'\r\n\r\nconst baseUrl = 'https://fullstackopen2019.appspot.com/api/persons'\r\n\r\nconst create = (nimi, numero) => {\r\n    const request = axios.post(baseUrl, {nimi, numero})\r\n    return request.then(response => response.data)\r\n}\r\nconst remove = (valittuHenkilö) => {\r\n    return axios.delete(`${baseUrl}/${valittuHenkilö}`)\r\n}\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\nconst update = (henkilö) => {\r\n    const request = axios.put(`${baseUrl}/${henkilö.id}`, henkilö)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport FilterName from './components/FilterName'\nimport Message from './components/Message'\nimport People from './components/People'\nimport AddPerson from './components/AddPerson'\nimport personsService from './services/Persons'\n\n\nconst App = () => {\n  \n  const [ henkilöt, asetaHenkilöt] = useState([]) \n  const [ uusiNimi, asetaUusiNimi ] = useState('')\n  const [ uusiNumero, asetaUusiNumero ] = useState('')\n  const [ {viesti, viestiTyyppi}, asetaViesti ] = useState({ viesti: null, viestiTyyppi: null })\n  const [ uusiEtsittävä, asetaEtsittävä] = useState('')\n \n  const etsiHenkilöt = (uusiEtsittävä.length>0) ? henkilöt.filter(henkilö => henkilö.nimi.toLowerCase.includes(uusiEtsittävä.toLowerCase()))\n  :henkilöt\n\n  useEffect(() => {\n    personsService.getAll().then(palautetutHenkilöt =>\n        asetaHenkilöt(palautetutHenkilöt))}, [])\n        \n  const kysely =(event)=>{\n    event.preventDefault()\n    if (uusiNumero.lenght === 0 || uusiNumero.length >10 || uusiNimi.length === 0 ){\n      alert(\"Täytit kentät virheellisesti\")\n      return\n    }\n    if(henkilöt.find(henkilö=> henkilö.numero === uusiNumero)){\n      alert(`$Numero {uusiNumero} on käytössä`)\n      return\n    }\n    const valittuHenkilö=(henkilöt.find(henkilö => henkilö.numero === uusiNimi))\n    if (valittuHenkilö){\n      const want = window.confirm(`${valittuHenkilö} on jo luettelossa, haluatko vaihtaa numeroa?`)\n      if(!want){\n        return\n      }\n      päivitäHenkilö(valittuHenkilö)\n    }\n    else{\n      luoHenkilö()\n    }\n    asetaUusiNimi('')\n    asetaUusiNumero('')\n    asetaEtsittävä('')\n    timeMessage()\n  }\n  const timeMessage = () => (\n    setTimeout(() => {\n        asetaViesti({ viesti: null, viestiTyyppi: null })}, 5000)\n)\n\n  const muutaNimi =(event)=>{\n    asetaUusiNimi(event.target.value)\n  }\n  const muutaNumero =(event)=>{\n    asetaUusiNumero(event.target.value)\n  }\n  const muutaEtsittävä =(event)=>{\n    asetaEtsittävä(event.target.value.toLowerCase)\n  }\n\n  const poistaHenkilö =(valittuHenkilö)=>{\n    const poistettava = henkilöt.find(henkilö => henkilö.id === valittuHenkilö)\n    if(window.confirm(`Haluatko poistaa ${poistettava}?`)){\n      personsService.remove(valittuHenkilö).then(response =>{\n        asetaHenkilöt(henkilöt.filter(henkilö => henkilö.id !== valittuHenkilö))\n        asetaViesti({viesti: `${poistettava.nimi} poistettu.`, viestiTyyppi: 'success'})\n      }).catch(error =>{\n        asetaHenkilöt(henkilöt.filter(henkilö => henkilö.id !== valittuHenkilö))\n        asetaViesti({viesti: `${poistettava.nimi} oli jo poistettu`, viestiTyyppi: 'error'})\n      })\n    }else{return}\n    timeMessage()\n  }\n\n  const päivitäHenkilö =(valittuHenkilö)=>{\n    const päivitettäväHenkilö = {...valittuHenkilö, numero:uusiNumero}\n    personsService.update(päivitettäväHenkilö).then(temp =>{\n      asetaHenkilöt(henkilöt.map(henkilö=>temp.id !== henkilö.id? henkilö : temp))\n      asetaViesti({ viesti: `${valittuHenkilö} päivitetty, uusi numero on ${temp.numero}`, viestiTyyppi: 'success' })\n    }).catch(error =>{\n      asetaHenkilöt(henkilöt.filter(henkilö => henkilö.id !== valittuHenkilö))\n      asetaViesti({viesti: `${valittuHenkilö} oli jo poistettu`, viestiTyyppi: 'error'})\n    })\n  }\n\n  const luoHenkilö = () =>{\n    personsService.create(uusiNimi,uusiNumero).then(temp =>{\n      asetaHenkilöt(henkilöt.concat(temp))\n      asetaViesti({ viesti: `${uusiNimi} lisätty`, viestiTyyppi: 'success' })\n    }).catch(error =>{\n      asetaViesti({viesti: `Virhe`, viestiTyyppi: 'error'})\n    })\n  }\n\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <FilterName uusiEtsittävä={uusiEtsittävä} asetaEtsittävä={muutaEtsittävä} />\n      <AddPerson kysely={kysely} uusiNimi={uusiNimi} asetaUusiNimi={muutaNimi} uusiNumero={uusiNumero} asetaUusiNumero={muutaNumero} />\n      <People henkilöt={etsiHenkilöt} poistoHenkilö={poistaHenkilö} />\n      <Message viesti={viesti} viestiTyyppi={viestiTyyppi} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}